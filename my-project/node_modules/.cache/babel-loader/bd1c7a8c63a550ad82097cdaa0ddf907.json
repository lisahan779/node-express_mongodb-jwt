{"remainingRequest":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/babel-loader/lib/index.js!/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lisa/Desktop/study/mongodb+express/my-project/src/components/about.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/src/components/about.vue","mtime":1588125191239},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbGlzYS9EZXNrdG9wL3N0dWR5L21vbmdvZGIrZXhwcmVzcy9teS1wcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2xpc2EvRGVza3RvcC9zdHVkeS9tb25nb2RiK2V4cHJlc3MvbXktcHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhYm91dCIsCiAgLy8g6LCD55SoYXBwLnZ1Zee7hOS7tuS4reeahOaWueazlQogIGluamVjdDogWyJyZWxvYWQiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIGFsbGNoZWNrOiBmYWxzZQogICAgfTsKICB9LAogIC8vIOaAu+S7t+eahOWunuaXtuebkeWQrAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIHRvdGFsTW9uZXk6IGZ1bmN0aW9uIHRvdGFsTW9uZXkoKSB7CiAgICAgIHZhciBhbGxtb25leSA9IDA7CiAgICAgIHZhciBpc0FsbENoZWNrID0gdHJ1ZTsKCiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5saXN0KSB7CiAgICAgICAgaWYgKHRoaXMubGlzdFtpXS5jaGVja2VkKSB7CiAgICAgICAgICBhbGxtb25leSArPSB0aGlzLmxpc3RbaV0ucHJvZHVjdE51bSAqIHRoaXMubGlzdFtpXS5zYWxlUHJpY2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlzQWxsQ2hlY2sgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuYWxsY2hlY2sgPT0gaXNBbGxDaGVjazsKICAgICAgcmV0dXJuIGFsbG1vbmV5OwogICAgfQogIH0sIG1hcEdldHRlcnMoewogICAgLy8g6LCD55SoZ2V0dGVyc+aLv+aVsOaNrizmi7/liLDnmoTmmK9leHByZXNz5Lit55qEZGF0YQogICAgY2FydGluZm86ICJHRVRDQVJUIgogIH0pKSwKICBtZXRob2RzOiB7CiAgICBnZXRwcm9kdWN0OiBmdW5jdGlvbiBnZXRwcm9kdWN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcGFyYW0sIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyDkvKDlj4IKICAgICAgICAgICAgICAgIHBhcmFtID0gewogICAgICAgICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICAgICAgICByb3c6IDMsCiAgICAgICAgICAgICAgICAgIHNvcnQ6IC0xCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAuZ2V0KCIvZ29vZHNsaXN0IiwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLmxpc3QgPSByZXMuZGF0YS5yZXN1bHQubGlzdDsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzaG9wcGluZ2NhcnQiLCBKU09OLnN0cmluZ2lmeShfdGhpcy5saXN0KSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5saXN0KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaVsOmHjwogICAgZWRpdENhcnQ6IGZ1bmN0aW9uIGVkaXRDYXJ0KGZsYWcsIGl0ZW0pIHsKICAgICAgaWYgKGZsYWcgPT0gImFkZCIpIHsKICAgICAgICAvLyDmt7vliqDllYblk4HmlbDph48KICAgICAgICBpdGVtLnByb2R1Y3ROdW0rKzsKICAgICAgfSBlbHNlIGlmIChmbGFnID09ICJtaW51IikgewogICAgICAgIC8vIOWHj+WwkeWVhuWTgeaVsOmHjwogICAgICAgIGlmIChpdGVtLnByb2R1Y3ROdW0gPD0gMSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaXRlbS5wcm9kdWN0TnVtLS07IC8vIGNvbnNvbGUubG9nKE51bWJlcihpdGVtLnByb2R1Y3ROdW0pICkKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDllYblk4HmjqfliLbpgInkuK0KICAgICAgICBpdGVtLmNoZWNrZWQgPSBpdGVtLmNoZWNrZWQgPT0gIjEiID8gIjEiIDogIjAiOwogICAgICB9CgogICAgICB0aGlzLiRodHRwLnBvc3QoIi9jYXJ0RWRpdCIsIHsKICAgICAgICBwcm9kdWN0SWQ6IGl0ZW0ucHJvZHVjdElkLAogICAgICAgIHByb2R1Y3ROdW06IGl0ZW0ucHJvZHVjdE51bSAvLyBjaGVja2VkOiBpdGVtLmNoZWNrZWQKCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2coMTExLCByZXMpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlhajpgIkKICAgIGNoZWNrYWxsOiBmdW5jdGlvbiBjaGVja2FsbCgpIHsKICAgICAgY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LmNoZWNrZWQpOwogICAgICB0aGlzLmxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0uY2hlY2tlZCA9IGV2ZW50LnRhcmdldC5jaGVja2VkOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj43pgIkKICAgIF9jaGVja0FsbDogZnVuY3Rpb24gX2NoZWNrQWxsKCkgewogICAgICAvLyAg6YGN5Y6G5omA5pyJ55qE5pWw5o2u5aaC5p6c6YO96YCJ5Lit5YiZ5YWo6YCJ6YCJ5LitCiAgICAgIGlmICh0aGlzLmxpc3QuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5jaGVja2VkOwogICAgICB9KSkgewogICAgICAgIHRoaXMuYWxsY2hlY2sgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWxsY2hlY2sgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIoOmZpOWVhuWTgQogICAgZGVsOiBmdW5jdGlvbiBkZWwoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRodHRwLmRlbGV0ZSgiL2NhcnREZWwvIiArIGlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5yZWxvYWQoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRwcm9kdWN0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["about.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA;AACA,EAAA,MAAA,EAAA,CAAA,QAAA,CAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GATA;AAUA;AACA,EAAA,QAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,QAAA,GAAA,CAAA;AACA,UAAA,UAAA,GAAA,IAAA;;AACA,WAAA,IAAA,CAAA,IAAA,KAAA,IAAA,EAAA;AACA,YAAA,KAAA,IAAA,CAAA,CAAA,EAAA,OAAA,EAAA;AACA,UAAA,QAAA,IAAA,KAAA,IAAA,CAAA,CAAA,EAAA,UAAA,GAAA,KAAA,IAAA,CAAA,CAAA,EAAA,SAAA;AACA,SAFA,MAEA;AACA,UAAA,UAAA,GAAA,KAAA;AACA;AACA;;AACA,WAAA,QAAA,IAAA,UAAA;AACA,aAAA,QAAA;AACA;AAbA,KAeA,UAAA,CAAA;AACA;AACA,IAAA,QAAA,EAAA;AAFA,GAAA,CAfA,CAXA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,KAFA,GAEA;AACA,kBAAA,IAAA,EAAA,CADA;AAEA,kBAAA,GAAA,EAAA,CAFA;AAGA,kBAAA,IAAA,EAAA,CAAA;AAHA,iBAFA;AAAA;AAAA,uBAOA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,YAAA,EAAA;AAAA,kBAAA,MAAA,EAAA;AAAA,iBAAA,CAPA;;AAAA;AAOA,gBAAA,GAPA;AAQA,gBAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,cAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,IAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KAZA;AAaA;AACA,IAAA,QAdA,oBAcA,IAdA,EAcA,IAdA,EAcA;AACA,UAAA,IAAA,IAAA,KAAA,EAAA;AACA;AACA,QAAA,IAAA,CAAA,UAAA;AACA,OAHA,MAGA,IAAA,IAAA,IAAA,MAAA,EAAA;AACA;AACA,YAAA,IAAA,CAAA,UAAA,IAAA,CAAA,EAAA;AACA;AACA;;AACA,QAAA,IAAA,CAAA,UAAA,GALA,CAMA;AACA,OAPA,MAOA;AACA;AACA,QAAA,IAAA,CAAA,OAAA,GAAA,IAAA,CAAA,OAAA,IAAA,GAAA,GAAA,GAAA,GAAA,GAAA;AACA;;AACA,WAAA,KAAA,CACA,IADA,CACA,WADA,EACA;AACA,QAAA,SAAA,EAAA,IAAA,CAAA,SADA;AAEA,QAAA,UAAA,EAAA,IAAA,CAAA,UAFA,CAGA;;AAHA,OADA,EAMA,IANA,CAMA,UAAA,QAAA,EAAA;AACA,YAAA,GAAA,GAAA,QAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,GAAA;AACA,OATA;AAUA,KAvCA;AAwCA;AACA,IAAA,QAzCA,sBAyCA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA;AACA,WAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,OAAA,GAAA,KAAA,CAAA,MAAA,CAAA,OAAA;AACA,OAFA;AAGA,KA9CA;AA+CA;AACA,IAAA,SAhDA,uBAgDA;AACA;AACA,UAAA,KAAA,IAAA,CAAA,KAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,OAAA;AAAA,OAAA,CAAA,EAAA;AACA,aAAA,QAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,QAAA,GAAA,KAAA;AACA;AACA,KAvDA;AAwDA;AACA,IAAA,GAzDA,eAyDA,EAzDA,EAyDA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,cAAA,EAAA,CADA;;AAAA;AACA,gBAAA,GADA;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,gBAAA,MAAA,CAAA,MAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AA7DA,GA/BA;AA+FA,EAAA,OA/FA,qBA+FA;AACA,SAAA,UAAA;AACA;AAjGA,CAAA","sourcesContent":["<!--\n * @Author: your name\n * @Date: 2020-03-07 17:05:46\n * @LastEditTime: 2020-03-18 10:57:31\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /all/my-project/src/components/about.vue\n -->\n<template>\n  <div class=\"about container\">\n    <button class=\"btn btn-default\">\n      <router-link to=\"/customers\">返回主页</router-link>\n    </button>\n    <button>获取数据</button>\n    <br />\n\n    <h2>购物车</h2>\n    <ul>\n      <li v-for=\"(item,index) in this.list\" :key=\"index\">\n        <div>\n          <h3>{{item.productName}}</h3>\n          <input type=\"checkbox\" v-model=\"item.checked\" @change=\"_checkAll\" />\n          <span>{{item.produceName}}</span>\n          <button class=\"btn btn-default\" @click=\"editCart('minu',item)\">-</button>\n          <span>{{item.productNum}}</span>\n          <button class=\"btn btn-default\" @click=\"editCart('add',item)\">+</button>\n          <span>价格：{{item.salePrice}}</span>\n          <button @click=\"del(item._id)\" class=\"btn btn-default\">删除</button>\n        </div>\n      </li>\n    </ul>\n    <input type=\"checkbox\" id=\"allCheckBox\" v-model=\"allcheck\" @click=\"checkall\" />\n    <button>合计:{{totalMoney}}</button>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"about\",\n  // 调用app.vue组件中的方法\n  inject: [\"reload\"],\n  data() {\n    return {\n      list: [],\n      allcheck: false\n    };\n  },\n  // 总价的实时监听\n  computed: {\n    totalMoney() {\n      let allmoney = 0;\n      let isAllCheck = true;\n      for (let i in this.list) {\n        if (this.list[i].checked) {\n          allmoney += this.list[i].productNum * this.list[i].salePrice;\n        } else {\n          isAllCheck = false;\n        }\n      }\n      this.allcheck == isAllCheck;\n      return allmoney;\n    },\n    // 从store来\n    ...mapGetters({\n      // 调用getters拿数据,拿到的是express中的data\n      cartinfo: \"GETCART\"\n    })\n  },\n  methods: {\n    async getproduct() {\n      // 传参\n      let param = {\n        page: 1,\n        row: 3,\n        sort: -1\n      };\n      const res = await this.$http.get(\"/goodslist\", { params: param });\n      this.list = res.data.result.list;\n      localStorage.setItem(\"shoppingcart\", JSON.stringify(this.list));\n      console.log(this.list);\n    },\n    // 数量\n    editCart(flag, item) {\n      if (flag == \"add\") {\n        // 添加商品数量\n        item.productNum++;\n      } else if (flag == \"minu\") {\n        // 减少商品数量\n        if (item.productNum <= 1) {\n          return;\n        }\n        item.productNum--;\n        // console.log(Number(item.productNum) )\n      } else {\n        // 商品控制选中\n        item.checked = item.checked == \"1\" ? \"1\" : \"0\";\n      }\n      this.$http\n        .post(\"/cartEdit\", {\n          productId: item.productId,\n          productNum: item.productNum\n          // checked: item.checked\n        })\n        .then(response => {\n          let res = response.data;\n          console.log(111, res);\n        });\n    },\n    // 全选\n    checkall() {\n      console.log(event.target.checked);\n      this.list.forEach(item => {\n        item.checked = event.target.checked;\n      });\n    },\n    // 反选\n    _checkAll() {\n      //  遍历所有的数据如果都选中则全选选中\n      if (this.list.every(item => item.checked)) {\n        this.allcheck = true;\n      } else {\n        this.allcheck = false;\n      }\n    },\n// 删除商品\n    async del(id) {\n      const res = await this.$http.delete(\"/cartDel/\" + id);\n      console.log(res);\n      this.reload();\n    }\n  },\n\n  created() {\n    this.getproduct();\n  }\n};\n</script>\n\n<style>\nli {\n  list-style: none;\n}\n</style>"],"sourceRoot":"src/components"}]}