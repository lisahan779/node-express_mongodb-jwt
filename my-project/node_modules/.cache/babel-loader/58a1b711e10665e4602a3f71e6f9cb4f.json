{"remainingRequest":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/babel-loader/lib/index.js!/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lisa/Desktop/study/mongodb+express/my-project/src/components/imgupload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/src/components/imgupload.vue","mtime":1587966183714},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybUlubGluZTogewogICAgICAgIGltZzogJycKICAgICAgfSwKICAgICAgZmxhZ2U6IGZhbHNlLAogICAgICBiYXNlNjQ6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdXBsb2FkUGhvdG86IGZ1bmN0aW9uIHVwbG9hZFBob3RvKGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIOWIqeeUqGZpbGVSZWFkZXLlr7nosaHojrflj5ZmaWxlCiAgICAgIHZhciBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgIHZhciBmaWxlc2l6ZSA9IGZpbGUuc2l6ZTsKICAgICAgdmFyIGZpbGVuYW1lID0gZmlsZS5uYW1lOwogICAgICBjb25zb2xlLmxvZyhmaWxlbmFtZSk7IC8vIDIsNjIxLDQ0MCAgIDJNCgogICAgICBpZiAoZmlsZXNpemUgPiAyMTAxNDQwKSB7Ly8g5Zu+54mH5aSn5LqOMk1CCiAgICAgIH0KCiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKCiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIC8vIOivu+WPluWIsOeahOWbvueJh2Jhc2U2NCDmlbDmja7nvJbnoIEg5bCG5q2k57yW56CB5a2X56ym5Liy5Lyg57uZ5ZCO5Y+w5Y2z5Y+vCiAgICAgICAgdmFyIGltZ2NvZGUgPSBlLnRhcmdldC5yZXN1bHQ7IC8vIGxldCB0aGF0PXRoaXM7CgogICAgICAgIF90aGlzLmZvcm1JbmxpbmUuaW1nID0gaW1nY29kZTsgLy8gY29uc29sZS5sb2coMTExLGltZ2NvZGUpOwoKICAgICAgICBfdGhpcy4kaHR0cC5wb3N0KCcvdXBsb2Fkcy90cmFuc2ZlcicsIHsKICAgICAgICAgICJmaWxlbmFtZSI6IGZpbGVuYW1lLAogICAgICAgICAgImZpbGVzaXplIjogZmlsZXNpemUsCiAgICAgICAgICAiYmFzZTY0IjogaW1nY29kZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMuYmFzZTY0ID0gcmVzLmRhdGEuYmFzZTY0OyAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSkKCiAgICAgICAgICBfdGhpcy5mbGFnZSA9IHRydWU7IC8vIGNvbnNvbGUubG9nKCLlm77niYfkuIrkvKDmiJDlip/vvIEiKTsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["imgupload.vue"],"names":[],"mappings":";;;;;;;;;AASA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,GAAA,EAAA;AADA,OADA;AAIA,MAAA,KAAA,EAAA,KAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,CADA,EACA;AAAA;;AACA;AACA,UAAA,IAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EALA,CAMA;;AACA,UAAA,QAAA,GAAA,OAAA,EAAA,CACA;AACA;;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;AACA,MAAA,MAAA,CAAA,aAAA,CAAA,IAAA;;AACA,MAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA;AACA,YAAA,OAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA,CAFA,CAGA;;AACA,QAAA,KAAA,CAAA,UAAA,CAAA,GAAA,GAAA,OAAA,CAJA,CAKA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,mBAAA,EAAA;AACA,sBAAA,QADA;AAEA,sBAAA,QAFA;AAGA,oBAAA;AAHA,SAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CADA,CAEA;;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAHA,CAIA;AACA,SATA;AAUA,OAhBA;AAiBA;AA9BA;AAVA,CAAA","sourcesContent":["<template>\n  <div class=\"power\">\n    <input @change=\"uploadPhoto($event)\" type=\"file\" class=\"kyc-passin\" />\n    <img v-if=\"flage\" :src=\"base64\" alt=\"上传图片\"  style=\"width:400px;height:400px \"/>\n    <!-- // 这种可以打开相机或文件，\"jpg,png,gif\"这种打开只能上传特定文件且没有相机 -->\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      formInline:{\n        img:''\n      },\n      flage:false,\n      base64:''\n      }\n  },\n  methods: {\n    uploadPhoto(e) {\n      // 利用fileReader对象获取file\n      var file = e.target.files[0];\n      var filesize = file.size;\n      var filename = file.name;\n      console.log(filename)\n      // 2,621,440   2M\n      if (filesize > 2101440) {\n        // 图片大于2MB\n      }\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e)=> {\n        // 读取到的图片base64 数据编码 将此编码字符串传给后台即可\n        var imgcode = e.target.result;\n        // let that=this;\n        this.formInline.img = imgcode;\n        // console.log(111,imgcode);\n      this.$http.post('/uploads/transfer',{\n            \"filename\": filename,\n            \"filesize\": filesize,\n            \"base64\": imgcode\n          }).then(res=>{\n            this.base64=res.data.base64\n        // console.log(res.data)\n        this.flage=true;\n        // console.log(\"图片上传成功！\");\n      })\n      }\n    },\n\n\n  }\n};\n</script>\n\n<style scoped>\n.one {\n  width: 3rem;\n  height: 3rem;\n}\n.one img {\n  width: 3rem;\n  height: 3rem;\n}\n</style>\n"],"sourceRoot":"src/components"}]}